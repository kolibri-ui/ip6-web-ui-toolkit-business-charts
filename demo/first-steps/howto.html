<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>How to</title>

    <!------------------------------------ css section ----------------------------------------------->
    <link rel="stylesheet" href="../../src/Kolibri/docs/css/kolibri-base.css">
    <link rel="stylesheet" href="../../src/Kolibri/docs/css/kolibri-light-colors.css">

    <link rel="stylesheet" href="../../src/business-charts/css/grid.css"/>
    <link rel="stylesheet" href="../../src/business-charts/css/charts-base.css"/>
    <link rel="stylesheet" href="../../src/business-charts/css/selectionTool.css"/>
    <link rel="stylesheet" href="../../src/business-charts/css/dataTableView.css"/>
    <link rel="stylesheet" href="../../src/business-charts/css/simpleDetailView.css"/>

    <link rel="stylesheet" href="first-steps.css"/>
<body>

<header>
    <h1 id="howto">Kolibri Business Charts</h1>
    <div class="subtitle">The Extesion of the Kolibri Web UI Toolkit</div>
</header>

<main>

    <!-------------------------------------- intro ---------------------------------------------------->

    <section class="description">
        <h2 id="intro">Intro</h2>
        <p>
            Kolibri Business Charts is the extension of the
            <a href="https://github.com/WebEngineering-FHNW/Kolibri">Kolibri Web UI Toolkit</a>.
            The goal is an "assortment of items" that simplify the development of web applications.
            Business applications often have a significant amount of clients.
            The lean and structured composition of the toolkit applies the
            <a href="https://dierk.github.io/Home/projectorPattern/ProjectorPattern.html">Projector Pattern</a>
            in a classical <a href="https://ieeexplore.ieee.org/abstract/document/950428">MVC architecture</a>.
            This allows a quick and cost-effective modification of the "look and feel" of the business application.
        </p>
    </section>
    <section class="description">
        <h3>Build business applications for data analysis with minimal lines of code</h3>
        <p>
            Kolibri Business Charts lets you quickly develop interactive charts for custom business analysis
            applications.
            It provides projectors for building charts in a modular way.
            This gives you high flexibility to provide data analysts the application they need.
        </p>
    </section>

    <!-------------------------------------- structure ---------------------------------------------------->

    <section class="description">
        <h2 id="structure">Structure and usage of the toolkit</h2>
        <p>
            There are several ways to use the toolkit.
            The easiest way is to copy the complete src folder in your project.
            Since the toolkit has no external dependencies, the size is minimal.
            Therefore, it has practically no impact on performance.
            The toolkit requires plain JavaScript, HTML5, CSS and an IDE of your choice.
        </p>
        <div>
            <h3>/src</h3>
            <p>
                Copy the entire src folder into your project for access to all projectors in the toolkit.
            </p>
        </div>
        <div>
            <h3>/src/business-charts</h3>
            <p>This folder contains
                chart projectors (/src/business-charts/projector),
                styles (/src/business-charts/css),
                helper functions (/src/business-charts/util)
                and <a
                        onclick="openBusinessChartsTests()" target="_blank" rel="noopener noreferrer"><u>tests</u></a>.
            </p>
            <script id="businessChartsTests">
                function openBusinessChartsTests() {
                    window.open("../src/business-charts/allBusinessChartsTests.html", "_popup", "width=900");
                }
            </script>
        </div>
        <div>
            <h3>/src/Kolibri</h3>
            <p>
                This directory includes the entire Kolibri Web UI Toolkit with examples, reusable projectors and tests.
                It has been the base for the development of Kolibri Business Charts.
            </p>
        </div>
        <div>
            <h3>/demo</h3>
            <p>
                Within the demo folder you can find examples how to use the Business Charts projectors.
                Take a look at the short tutorial to create a chart in a few steps, as shown in the screenshots below.
            </p>
            <p><img src="../assets/images/first-steps_chart.png"
                    alt="screenshot of the first steps chart with table and detail view">
            </p>
            <p><img src="../assets/images/first-steps_tableView_and_detailView.png"
                    alt="screenshot of the first steps chart with table and detail view">
            </p>
        </div>
        <div>
            <h3>JSDoc</h3>
            <p>
                For the specification of the objects, functions, etc. a documentation based on JSDoc is available.
                For general information concerning the document generator visit the website of
                <a href="https://jsdoc.app/index.html" target="_blank">JSDoc</a>.
            </p>
        </div>
    </section>

    <!-------------------------------------- features ---------------------------------------------------->

    <section class="description">
        <h2 id="features">Features</h2>
        <p>
            Below you will find a brief overview of the functionalities offered by the toolkit.
        </p>
        <div>
            <h3>Zooming</h3>
            <p>
                Via toolbar you can zoom in and out of the chart area step by step.
                If you want to see a specific area, you can select your desired section using Rubber Band Zooming.
                The chart will immediately zoom into the chosen area while the axes will be adjusted.
            </p>
        </div>
        <div>
            <h3>Panning</h3>
            <p>
                Move the section of the chart via the toolbar (panning)
                by holding down the mouse button and moving the section both horizontally and vertically.
                Alternatively, you can also move the area horizontally
                via the axis (in the example it is the horizontal axis) by holding down the mouse button.
            </p>
        </div>
        <div>
            <h3>Min-Max Ranges on Axes</h3>
            <p>
                Immediate input of the range on the axis.
                In the tutorial you can directly change the upper and lower limits on the vertical axis via input
                fields.
                The chart area changes immediately.
                On the horizontal axis, you can change the limits by moving the left or right area.
            </p>
        </div>
        <div>
            <h3>Tooltip / Bubble Tooltip</h3>
            <p>
                Whenever the mouse pointer is over a data point, a tooltip appears with information about the
                corresponding point.
            </p>
        </div>
        <div>
            <h3>Select</h3>
            <p>
                Select a point in the chart view. The table and the detail view will be adjusted immediately.
            </p>
        </div>
        <div>
            <h3>Multi Selection in Table View</h3>
            <p>
                Select multiple data points via table view (⌘ click on data points).
            </p>
        </div>
        <div>
            <h3>Table View</h3>
            <p>
                By clicking on data points, the selected objects will be marked in the table.
                Vice versa, the points selected in the table are highlighted in the chart and synchronized with the
                detail view.
            </p>
        </div>
        <div>
            <h3>Detail View</h3>
            <p>
                As mentioned above, the selected data points are shown immediately in the detail view.
            </p>
        </div>
    </section>

    <!-------------------------------------- first steps ---------------------------------------------------->

    <section class="description">
        <h2 id="first-steps">First steps</h2>
        <p>
            First Steps Demo shows you how to create a chart with minimal lines of code.
        </p>
        <div>
            <h3 id="simple">Simple Projector for one data serie</h3>
            <p>
                This example shows you how to create a chart step by step.
            </p>
        </div>
        <div>
            <h4>Setup .html</h4>
            <ol>
                <li>
                    Create a basic HTML skeleton.
                    A structured approach is recommended containing at least a style-, chart- and script section.
                </li>
                <li>
                    In order to view the chart in the browser, create a div with the class / id "container" in the chart
                    section.
                    Each chart need a unique identification. Make sure you have an id for each chart.
                    <div>
                        <pre><code>&lt;!-&#45;&#45; chart section -&#45;&#45;&gt;</code></pre>
                    </div>
                    <div>
                        <pre><code>&lt;div class="container" id="container"&gt;&lt;/div&gt;</code></pre>
                    </div>
<!--                    To display the data points, create a div with the class "detail-view".-->
<!--                    <div>-->
<!--                        <pre><code>&lt;div class="detail-view" id="detail-view"&gt;&lt;/div&gt;</code></pre>-->
<!--                    </div>-->
                </li>
                <li>
                    Create your charts in a javascript file with type „module".
                    Include your js file in the script section in your HTML.
                    <div>
                        <pre><code>&lt;!-&#45;&#45; script section -&#45;&#45;&gt;</code></pre>
                        <pre><code>&lt;script src="your-chart-script.js" type="module"&gt;&lt;/script&gt;</code></pre>
                    </div>
                </li>
                <li>
                    Depending on the projectors you need, add the relevant links for the styling in the CSS section.
                    <pre><code>&lt;!-&#45;&#45; css section -&#45;&#45;&gt;</code></pre>
                    <pre><code>&lt;link rel="stylesheet" href=".../kolibri-css-files..."&gt;</code></pre>
                    <pre><code>&lt;link rel="stylesheet" href=".../business-charts-css-files..."&gt;</code></pre>
                    <pre><code>&lt;link rel="stylesheet" href=".../projector-specific-css-files..."&gt;</code></pre>
                    <pre><code>&lt;link rel="stylesheet" href=".../your-own-css-files..."&gt;</code></pre>
                </li>
            </ol>
        </div>
        <div>
            <h4>Setup .js</h4>
            In this example, projectors are used for creating a Scatter Chart with a table/detail view for the data
            points.
            To do this, you will need the following:
            <ol>
                <li>
                    A data array of type "ScatterChartDataElement"
                    <div>
                        <code>/** @type { Array.<</code><code>ChartDataElement> } */</code>
                        <pre><code>const data = [ {
    name: 'A1', xValue: -4, yValue: 3,
}, {
    name: 'B1', xValue: -3, yValue: 2,
}, {
    name: 'C1', xValue: -2, yValue: 0,
}, {
    name: 'D1', xValue: -1, yValue: -3,
}, {
    name: 'E1', xValue: 0, yValue: 1,
}, {
    name: 'F1', xValue: 1, yValue: -1,
},{
    name: 'G1', xValue: 2, yValue: 4,
},{
    name: 'H1', xValue: 3, yValue: 2,
},{
    name: 'I1', xValue: 4, yValue: 9,
},];</code></pre>
                    </div>
                </li>
                <li>
                    Define a <code>simpleController</code>
                    as <code>SimpleAreaChartController()</code>
                    with your <code>data</code> and optional toolbar as arguments
                    <pre><code>const simpleController = SimpleAreaChartController(data, {
        tools: [
            zoomInTool,
            zoomOutTool,
            bubbleTooltipSelectionTool,
            rubberBandTool,
            panningTool,
        ]
    });</code></pre>
                </li>
                <li>
                    Append the <code>SimpleChartProjector()</code>
                    with its <code>simpleController</code>
                    to your html <code>container</code>.
                    <pre><code>document.getElementById('container').append(
                        SimpleChartProjector(simpleController));</code></pre>
                </li>
            </ol>
        </div>
    </section>
    <section class="description">
        <div>
            <h4>Setup .css</h4>
            Make sure you have linked the appropriate css files in your html for the projectors you are using.
            As mentioned above, it is possible to override and extend the default CSS files with customized styles.
        </div>
        <div>
            <h4>Run your html file. You should get a result similar to this</h4>
        </div>
    </section>
    <div class="containerSimple" id="containerSimple">
    </div>

    <!-------------------------------------- interchangeability ---------------------------------------------------->

    <section class="description">
        <h2 id="interchangeability">Projector and controller interchangeability</h2>
        <p>
            This demonstrates the main feature of the Kolibri Web UI Toolkit.
        </p>
    </section>
    <section class="description">
        <h3 id="change-simple-projector">Change Data representation for one data serie</h3>
        <p>
            If you want to change the representation of the data, you only need to replace the corresponding controller.
        </p>
        <pre><code>const controller = Simple<s>Area</s>ChartController(data, {...});</code></pre>
        <pre><code>const controller = SimpleLineChartController(data, {...});</code></pre>
    </section>
    <section class="description">
        <h3 id="advanced-projector">Projectors for more than one data serie</h3>
        <p>
            If you have more than one data serie, you need the controllers without the word "simple" in the front.
            Your data series are now passed as an array <code>[data, data2]</code>.
        </p>
        <pre><code>const controller = <s>Simple</s>LineChartController(data, {...});</code></pre>
        <pre><code>const controller = LineChartController([data, data2], {...});</code></pre>
        <p>
            Now the AdvancedChartProjector() is used instead of the SimpleChartProjector().
        </p>
        <pre><code>document.getElementById('container').append(<s>SimpleChart</s>Projector(controller));</code></pre>
        <pre><code>document.getElementById('container').append(AdvancedChartProjector(controller));</code></pre>
    </section>
    <section class="description">
        <h3 id="multi-projector">Different data represantations</h3>
        <p>
            The <code>AdvancedChartProjector()</code>
            may also be used if you want to visualise the data series differently.
            For this purpose you need the <code>ChartController()</code>.
        </p>
        <pre><code>const controller = ChartController(
            [
            { type: SCATTER_CHART, data: data  },
            { type: SCATTER_CHART, data: data2 },
            { type: LINE_CHART,    data: data3 }
            ],
            {...});</code></pre>
        </section>

    <!-------------------------------------- Bindings ---------------------------------------------------->

    <section class="description">
        <h2 id="bindings">Data Binding of simple detail and data table view</h2>
        <p>
            All chart controllers have a binding to the simpleDetailView and the dataTableView Projectors.
            If you have created a controller, just put it to the data point view.
        </p>
        <h3>Simple Detail View</h3>
        <p>
            To display the data points, first create a div with the class "detail-view" in your html-file.
        </p>
            <pre><code>&lt;div class="detail-view" id="detail-view"&gt;&lt;/div&gt;</code></pre>
        <p>
            In your javacript file, create a constant for the detail view div element.
        </p>
        <pre><code>const detailView = document.getElementById('detail-view');</code></pre>
        <p>
            If you already have a controller, just append it to the detail view element.
        </p>
        <pre><code>detailView.append(
            DataTableViewProjector(
            DataTableViewController(controller, controller.getSeries()[0]), 'Data points'),
            SimpleDetailView(controller));
</code></pre>
        <h3>Data Table View</h3>
        <p>
            To see detailed information of the data points, create a new div element.
        </p>
        <pre><code>const tableViews = document.createElement("div");</code></pre>
        <p>
            Add the html element to classList.
        </p>
        <pre><code>tableViews.classList.add("data-table-views");</code></pre>
        <p>
            Append the projectors with its controllers.
        </p>
        <pre><code>tableViews.classList.add("data-table-views");
tableViews.append(
    DataTableViewProjector(DataTableViewController(multipleChartTypesController,
            multipleChartTypesController.getSeries()[0]), 'Data points serie 1'),
    DataTableViewProjector(DataTableViewController(multipleChartTypesController,
            multipleChartTypesController.getSeries()[1]), 'Data points serie 2'),
    DataTableViewProjector(DataTableViewController(multipleChartTypesController,
            multipleChartTypesController.getSeries()[2]), 'Data points serie 3')
);</code></pre>
        <p>
            Append the table view to the detail view.
        </p>
        <pre><code>detailViewMulti.append(
    tableViews,
    SimpleDetailView(multipleChartTypesController));</code></pre>
    </section>

    <!-------------------------------------- Examples ---------------------------------------------------->

    <section class="description">
        <h2 id="examples">Examples</h2>
        <p>
            The next few samples explain how to create charts with minimal lines of code.
        </p>
    </section>

    <!-------------------------------------- chart section --------------------------------------------->
    <div class="content">
        <h3>One data serie</h3>
        <div class="containerSimple" id="containerSimple2">
            <p>
                All chart projectors provide a toolbar.
            </p>
            <p>
                The projectors for one data serie contain axes with direct manipulation of the chart boundaries via
                input fields.
            </p>
        </div>
        <section>
            <p>Your data serie in the table has a binding with the data serie in the chart.
            </p>
            <div class="detail-view" id="detail-view-simple2">
            </div>
        </section>

        <h3>More than one data serie</h3>
        <div class="containerAdvanced" id="containerAdvanced">
            <p>
                The projectors for multiple data series provide one y-axis for each data serie.
            </p>
            <p>
                Press shift and mouse on the corresponding axis to shift the range of the data serie.
                Press cmd/ctrl and mouse on the corresponding axis for zooming.
            </p>
            <p>
                On the x-axis it is possible to manipulate the chart section via mouse.
                Adjusting the left and right axis range boundary via mouse modifies the amount of the data points
                displayed.
                Shifting the axis range via mouse changes the first and the last data set displayed.
            </p>
        </div>

        <h3>Different representations per data series</h3>
        <div class="containerMultipleChartTypes" id="containerMultipleChartTypes">
            <p>
                The projectors for multiple data series provide one y-axis for each data serie.
            </p>
            <p>
                Press shift and mouse on the corresponding axis to shift the range of the data serie.
                Press cmd/ctrl and mouse on the corresponding axis for zooming.
            </p>
            <p>
                On the x-axis it is possible to manipulate the chart section via mouse.
                Adjusting the left and right axis range boundary via mouse modifies the amount of the data points
                displayed.
                Shifting the axis range via mouse changes the first and the last data set displayed.
            </p>
        </div>
        <section>
            <p>
                For the simple detail view, there is also a table view available.
                By clicking on a point, detailed data point information are displayed.
            </p>
            <div class="detail-view" id="detail-view-multi">
            </div>
        </section>
    </div>
</main>

<!-------------------------------------- footer section ---------------------------------------------------->

<footer>
    <section>
        <div class="flex-container">
        <span>
            <a href="#howto">home</a>
            <a href="#intro">intro</a>
            <a href="#structure">structure</a>
            <a href="#features">features</a>
            <a href="#first-steps">first steps</a>
            <a href="#interchangeability">interchangeability</a>
            <a href="#bindings">data bindings</a>
            <a href="#examples">examples</a>
        </span>
        </div>
        <div class="flex-container">
            FHNW Bachelor Thesis "Business Charts Toolkit" - made by Roger Kreienb&uumlhl and Valentina Giampa
        </div>
    </section>
</footer>

<!-------------------------------------- script section ---------------------------------------------------->

<script src="first-steps-demo.js" type="module"></script>

</body>
</html>